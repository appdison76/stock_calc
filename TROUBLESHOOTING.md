# 개발 서버 연결 오류 해결 가이드

## 오류: "failed to connect to /192.168.123.105 (port 8081)"

이 오류는 Expo 개발 서버(Metro 번들러)에 연결하지 못할 때 발생합니다.

## 원인

1. **Metro 번들러가 실행되지 않음** (가장 흔한 원인)
2. **IP 주소가 변경됨** (Wi-Fi를 바꾸거나 재연결 시)
3. **네트워크 연결 문제** (같은 네트워크에 연결되어 있지 않음)
4. **포트 8081이 이미 사용 중이거나 차단됨**

## 해결 방법

### 1. Metro 번들러 시작 (가장 중요!)

터미널에서 프로젝트 디렉토리로 이동 후:

```bash
# 개발 빌드를 사용하는 경우
npx expo start --dev-client

# 또는 일반 개발 모드
npm start
# 또는
npx expo start
```

**중요**: 개발 빌드를 사용할 때는 반드시 `--dev-client` 플래그를 사용해야 합니다!

### 2. IP 주소 확인 및 변경

터미널에서 Metro 번들러를 시작하면 다음과 같은 화면이 나타납니다:

```
Metro waiting on exp://192.168.x.x:8081
```

- 앱에서 표시되는 IP 주소와 일치해야 합니다
- 일치하지 않으면, Metro 번들러를 종료(Ctrl+C)하고 다시 시작하세요

### 3. 수동으로 연결

앱에서:
1. "Scan QR Code" 버튼 클릭
2. 터미널에 표시된 QR 코드를 스캔
3. 또는 터미널에 표시된 IP 주소를 직접 입력

### 4. 네트워크 확인

- PC와 스마트폰이 **같은 Wi-Fi 네트워크**에 연결되어 있어야 합니다
- 방화벽이 8081 포트를 차단하지 않는지 확인하세요

### 5. 포트 충돌 해결

8081 포트가 이미 사용 중인 경우:

```bash
# Windows에서 포트 사용 중인 프로세스 확인
netstat -ano | findstr :8081

# 프로세스 종료 (PID는 위 명령으로 확인)
taskkill /PID [PID번호] /F
```

또는 다른 포트 사용:

```bash
npx expo start --port 8082
```

## 빠른 해결 체크리스트

1. ✅ **터미널에서 Metro 번들러 실행 중인가?**
   ```bash
   npx expo start --dev-client
   ```

2. ✅ **PC와 스마트폰이 같은 Wi-Fi에 연결되어 있는가?**

3. ✅ **터미널에 표시된 IP 주소가 앱의 IP와 일치하는가?**

4. ✅ **방화벽이 8081 포트를 차단하지 않는가?**

## 권장 작업 순서

1. 기존 Metro 번들러 종료 (터미널에서 Ctrl+C)
2. 프로젝트 디렉토리로 이동
3. 개발 빌드용 Metro 번들러 시작:
   ```bash
   npx expo start --dev-client
   ```
4. 터미널에 표시된 IP 주소 확인
5. 앱에서 QR 코드 스캔 또는 IP 주소 입력

## 추가 팁

### 터널 모드 사용 (네트워크 문제 해결)

```bash
npx expo start --dev-client --tunnel
```

- 터널 모드는 Expo의 서버를 통해 연결하므로 같은 네트워크에 없어도 작동합니다
- 다만 속도가 느릴 수 있습니다

### LAN 모드 (로컬 네트워크만)

```bash
npx expo start --dev-client --lan
```

- 같은 네트워크 내에서만 연결 가능
- 더 빠른 속도

## 여전히 해결되지 않으면

1. 앱 완전 종료 후 재시작
2. Expo Go 앱 캐시 초기화: 앱 설정 → 저장소 → 캐시 지우기
3. 개발 빌드 재설치:
   ```bash
   npx expo run:android
   ```









